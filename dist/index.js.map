{"version":3,"file":"index.js","sources":["../src/Utils/headerScripts.ts","../src/Utils/AdManager.ts","../src/Context/AdManagerProvider.tsx","../src/Components/AdManagerSlot.tsx"],"sourcesContent":["function loadScript(scriptUrl: string) {\n  const googleScriptTag = document.createElement('script')\n  googleScriptTag.src = `${scriptUrl}`\n  googleScriptTag.async = true\n  googleScriptTag.type = 'text/javascript'\n\n  document.getElementsByTagName('head')[0].appendChild(googleScriptTag)\n}\n\nexport function ensureScripts() {\n  if (typeof window !== 'undefined') {\n    window.googletag = window.googletag || {}\n    window.googletag.cmd = window.googletag.cmd || []\n    window.Yieldbird = window.Yieldbird || {}\n    window.Yieldbird.cmd = window.Yieldbird.cmd || []\n  }\n}\n\nexport function initializeAdStack(uuid: string) {\n  if (typeof window !== 'undefined') {\n    ensureScripts()\n    window.yb_configuration = { lazyLoad: true }\n\n    window.googletag.cmd.push(function () {\n      window.googletag.pubads().disableInitialLoad()\n    })\n\n    if (Object.keys(window.googletag).length <= 1) {\n      loadScript(\n        `${document.location.protocol}//securepubads.g.doubleclick.net/tag/js/gpt.js`\n      )\n    }\n\n    if (Object.keys(window.Yieldbird).length <= 1) {\n      loadScript(\n        `${document.location.protocol}//jscdn.yieldbird.com/${uuid}/yb.js`\n      )\n    }\n  }\n}\n","import { ensureScripts } from './headerScripts'\n\nexport class AdManager {\n  private adsToRefresh: {\n    [key: string]: googletag.Slot\n  }\n\n  private interval: number | null\n\n  private timeout: number\n\n  constructor(timeout = 1000) {\n    this.adsToRefresh = {}\n    this.interval = null\n    this.timeout = timeout\n\n    ensureScripts()\n  }\n\n  public static defineSlot(\n    adUnitPath: string,\n    size: googletag.GeneralSize,\n    optDiv: string,\n    shouldRefreshAds: boolean,\n    sizeMapping?: [googletag.SingleSizeArray, googletag.GeneralSize][],\n    targeting?: { [key: string]: googletag.NamedSize }\n  ): Promise<googletag.Slot> {\n    return new Promise((resolve, reject) => {\n      if (typeof window !== 'undefined') {\n        window.Yieldbird.cmd.push(() => {\n          window.googletag.cmd.push(() => {\n            const slot = this.createSlot(adUnitPath, size, optDiv)\n\n            this.setTargeting(slot, targeting)\n            this.setSizeMapping(slot, sizeMapping)\n\n            if (!shouldRefreshAds) {\n              window.Yieldbird.setGPTTargeting([slot])\n              window.googletag.enableServices()\n              window.googletag.display(optDiv)\n              window.googletag.pubads().refresh([slot])\n            } else {\n              //window.googletag.enableServices()\n              //window.googletag.display(optDiv)\n            }\n\n            slot\n              ? resolve(slot)\n              : reject(new Error('Slot could not be created.'))\n          })\n        })\n      } else {\n        reject(new Error('Slot could not be created.'))\n      }\n    })\n  }\n\n  public static destroySlot(optDiv: string) {\n    if (typeof window !== 'undefined') {\n      window.googletag.cmd.push(() => {\n        const slot = window.googletag\n          .pubads()\n          .getSlots()\n          .find((el) => el.getSlotElementId() === optDiv)\n\n        slot && window.googletag.destroySlots([slot])\n      })\n    }\n  }\n\n  public refreshSlot(slot: googletag.Slot, optDiv: string) {\n    if (typeof window !== 'undefined') {\n      this.adsToRefresh[optDiv] = slot\n      console.log('RefreshSlot', slot);\n      this.interval && window.clearInterval(this.interval)\n      this.interval = window.setTimeout(\n        () => {\n          const slots = Object.keys(this.adsToRefresh).map(\n            (el) => this.adsToRefresh[el]\n          )\n\n          if (slots.length > 0) {\n            window.Yieldbird.cmd.push(() => {\n              window.Yieldbird.refresh(slots)\n              this.adsToRefresh = {}\n            })\n          }\n        },\n        this.timeout,\n        true\n      )\n    }\n  }\n\n  private static createSlot(\n    adUnitPath: string,\n    size: googletag.GeneralSize,\n    optDiv: string\n  ) {\n    let slot = window.googletag\n      .pubads()\n      .getSlots()\n      .find((el) => el.getSlotElementId() === optDiv)\n\n    slot =\n      slot ||\n      window.googletag\n        .defineSlot(adUnitPath, size, optDiv)\n        .addService(window.googletag.pubads())\n\n    slot.clearTargeting()\n\n    return slot\n  }\n\n  private static setTargeting(\n    slot: googletag.Slot,\n    targeting?: { [key: string]: googletag.NamedSize }\n  ) {\n    if (slot && targeting) {\n      Object.keys(targeting).forEach((targetingKey: string) => {\n        slot.setTargeting(targetingKey, targeting[targetingKey])\n      })\n    }\n  }\n\n  private static setSizeMapping(\n    slot: googletag.Slot,\n    sizeMapping?: [googletag.SingleSizeArray, googletag.GeneralSize][]\n  ) {\n    if (sizeMapping) {\n      const sizeMappingBuilder = window.googletag.sizeMapping()\n\n      sizeMapping.forEach((sizeMap) => {\n        sizeMappingBuilder.addSize(sizeMap[0], sizeMap[1])\n      })\n\n      slot.defineSizeMapping(sizeMappingBuilder.build())\n    }\n  }\n}\n","import React, { useCallback, useEffect, useState } from 'react'\n\nimport { AdManager } from '../Utils/AdManager'\nimport { initializeAdStack } from '../Utils/headerScripts'\n\ninterface Props {\n  uuid: string\n  refreshDelay?: number\n}\n\nexport const AdManagerContext = React.createContext({\n  shouldRefresh: (_optDiv: string) => false as boolean,\n  refreshAd: (_slot: googletag.Slot, _optDiv: string): void => {},\n  registerSlot: (_slot: googletag.Slot): void => {}\n})\n\nexport const AdManagerProvider: React.FC<Props> = ({\n  children,\n  uuid,\n  refreshDelay\n}) => {\n  const adManager = new AdManager(refreshDelay)\n  const [adsMap, setAdsMap] = useState<string[]>([])\n\n  const registerSlot = useCallback(\n    (slot: googletag.Slot) => {\n      adsMap.push(slot.getSlotElementId())\n      setAdsMap(adsMap)\n    },\n    [adsMap, setAdsMap]\n  )\n\n  const refreshAd = useCallback(\n    (slot: googletag.Slot, optDiv: string) => {\n      adManager.refreshSlot(slot, optDiv)\n    },\n    [adManager]\n  )\n\n  const shouldRefresh = useCallback((optDiv: string) => {\n    return adsMap.includes(optDiv)\n  }, adsMap)\n\n  useEffect(() => {\n    initializeAdStack(uuid)\n  }, [uuid])\n\n  return (\n    <AdManagerContext.Provider\n      value={{\n        refreshAd,\n        registerSlot,\n        shouldRefresh\n      }}\n    >\n      {children}\n    </AdManagerContext.Provider>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\n\nimport { AdManager } from '../Utils/AdManager'\nimport { AdManagerContext } from '../Context/AdManagerProvider'\n\ninterface Props {\n  adUnitPath: string\n  className?: string\n  size: googletag.GeneralSize\n  optDiv: string\n  sizeMapping?: [googletag.SingleSizeArray, googletag.GeneralSize][]\n  targeting?: { [key: string]: googletag.NamedSize }\n}\n\nexport const AdManagerSlot: React.FC<Props> = ({\n  adUnitPath,\n  className,\n  size,\n  optDiv,\n  sizeMapping,\n  targeting\n}) => {\n  const adManagerContext = useContext(AdManagerContext)\n\n  useEffect(() => {\n    const refresh = adManagerContext.shouldRefresh(optDiv)\nconsole.log(refresh, adManagerContext);\n    AdManager.defineSlot(\n      adUnitPath,\n      size,\n      optDiv,\n      refresh,\n      sizeMapping,\n      targeting\n    )\n      .then((slot) => {\n        adManagerContext.registerSlot(slot)\n        refresh && adManagerContext.refreshAd(slot, optDiv)\n      })\n      .catch((e) => {\n        console.error(e)\n      })\n\n    return () => {\n      AdManager.destroySlot(optDiv)\n    }\n  }, [adManagerContext])\n\n  return <div id={optDiv} className={className} />\n}\n"],"names":["loadScript","scriptUrl","googleScriptTag","document","createElement","src","async","type","getElementsByTagName","appendChild","ensureScripts","window","googletag","cmd","Yieldbird","initializeAdStack","uuid","yb_configuration","lazyLoad","push","pubads","disableInitialLoad","Object","keys","length","location","protocol","AdManager","timeout","adsToRefresh","interval","defineSlot","adUnitPath","size","optDiv","shouldRefreshAds","sizeMapping","targeting","Promise","resolve","reject","slot","createSlot","setTargeting","setSizeMapping","setGPTTargeting","enableServices","display","refresh","Error","destroySlot","getSlots","find","el","getSlotElementId","destroySlots","refreshSlot","console","log","clearInterval","setTimeout","slots","map","addService","clearTargeting","forEach","targetingKey","sizeMappingBuilder","sizeMap","addSize","defineSizeMapping","build","AdManagerContext","React","createContext","shouldRefresh","_optDiv","refreshAd","_slot","registerSlot","AdManagerProvider","children","refreshDelay","adManager","useState","adsMap","setAdsMap","useCallback","includes","useEffect","Provider","value","AdManagerSlot","className","adManagerContext","useContext","then","e","error","id"],"mappings":"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"}